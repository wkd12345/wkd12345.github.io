<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="description"
        content="PromptLDM: Prompt Guided Latent Diffusion Model for Controllable Text-to-Speech">
  <meta name="keywords" content="Nerfies, D-NeRF, NeRF">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>PromptLDM</title>

<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-L7749G0HJZ"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-L7749G0HJZ');
</script>

  <link href="https://fonts.googleapis.com/css?family=Google+Sans|Noto+Sans|Castoro"
        rel="stylesheet">

  <link rel="stylesheet" href="./static/css/bulma.min.css">
  <link rel="stylesheet" href="./static/css/bulma-carousel.min.css">
  <link rel="stylesheet" href="./static/css/bulma-slider.min.css">
  <link rel="stylesheet" href="./static/css/fontawesome.all.min.css">
  <link rel="stylesheet"
        href="https://cdn.jsdelivr.net/gh/jpswalsh/academicons@1/css/academicons.min.css">
  <link rel="stylesheet" href="./static/css/index.css">

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script defer src="./static/js/fontawesome.all.min.js"></script>
  <script src="./static/js/bulma-carousel.min.js"></script>
  <script src="./static/js/bulma-slider.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>

<section class="hero">
  <div class="hero-body" style="padding-bottom: 24px;">
    <div class="container is-max-desktop">
      <div class="columns is-centered">
        <div class="column has-text-centered">
          <h1 class="title is-1 publication-title">PromptLDM: Prompt Guided Latent Diffusion Model for Controllable Text-to-Speech</h1>
          <div class="is-size-5 publication-authors">
          </div>

          <div class="column has-text-centered">
            <div class="publication-links">
              <!-- PDF Link. -->
              <span class="link-block">
                <a href="link" 
                   class="external-link button is-normal is-rounded is-dark">
                  <span class="icon">
                      <i class="ai ai-arxiv"></i>
                  </span>
                  <span>Paper</span>
                </a>
              </span>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>




<section class="section" style="padding-top: 0px;">
  <div class="container is-max-desktop">
    <!-- Abstract. -->
    <div class="columns is-centered has-text-centered">
      <div class="column is-four-fifths">
        <h2 class="title is-3">Model Architecture</h2> 
        <div class="content has-text-justified">

          <!-- <p>
            Although current speech synthesis systems are capable of synthesizing high-fidelity speech, it remains challenging to generate speech with desired styles. In this paper, we propose PromptLDM, a novel controllable Text-to-Speech (TTS) system with latent diffusion model, utilizing natural language descriptions as style prompts to guide the speech synthesis. Specifically, Considering the lack of acoustic details specific to audio prompt in text prompt representation, we introduce a latent diffusion model to establish an intermodal relationship between text and audio prompts. We optimize representations from different modalities through representation learning and fuse them to obtain a better style embedding. We use FastSpeech2 as the basic model and integrate the diffusion model to enhance its synthesis performance. Experiments indicate that our system can synthesize more natural speech with specific styles compared to the baseline.
          </p> -->
          <p>
            Referring to <strong>IST-TTS</strong><sup>1</sup>, we combine VAE and diffusion to obtain more refined Mel-spectrograms. During inference, in the Style Embedding Extractor, we utilize LDM to acquire representations from both modalities and perform feature learning to obtain style embeddings, enabling precise control over speech styles.</figcaption>
          </p>
          <p>
            <!-- 图片插入在这里 -->
            <figure class="image is-centered">
              <img src="static/images/models.jpg" alt="Diagram representing PromptLDM model" style="width: 50%; height: auto;">
              <figcaption>Figure 1: The overall architecture of PromptLDM.
              <img src="static/images/models2.jpg" alt="Diagram representing PromptLDM model">
              <figcaption>Figure 2: An illustration of the Style Embedding Extractor.
            </figure>
          </p> 

        </div>
      </div>
    </div>
    <!--/ Abstract. -->
  </div>
</section>

<!-- 饼状图部分 -->
<style>
  .chart-container {
    display: flex;
    justify-content: center; /* 水平居中 */
    align-items: center; /* 垂直居中 */
    margin-bottom: 20px; /* 图与下方内容间隔 */
  }
  /* 设置容器的大小 */
  .canvas-container {
    width: 300px; /* 设置容器宽度 */
    height: 300px; /* 设置容器高度 */
  }
  #myPieChart {
    width: 100% !important; /* 使 canvas 宽度占满容器 */
    height: 100% !important; /* 使 canvas 高度占满容器 */
  }
  .image-container {
    display: flex; /* 使用 flexbox 使图片居中 */
    justify-content: center; /* 水平居中 */
    align-items: center; /* 垂直居中 */
    margin-left: 20px; /* 图与饼状图间隔 */
  }
  .image-container img {
    max-width: 60%; /* 限制图片宽度 */
    max-height: 60%; /* 限制图片高度 */
    border: none; /* 去除边框 */
  }
  .table-container {
    margin-right: 100px; /* 表格与饼状图间隔 */
  }
  table {
    border-collapse: collapse;
    width: 250px; /* 设置表格宽度 */
  }
  .small-padding th, .small-padding td {
    border: 1px solid #ccc; /* 表格边框 */
    padding: 4px; /* 缩小内边距 */
    text-align: left; /* 左对齐 */
    font-size: 12px; /* 调整字体大小 */
</style>

<section class="section">
  <div class="container is-max-desktop">
    <div class="columns is-centered">
      <div class="column has-text-centered">
        <h2 class="title is-3">Details of the Dataset</h2>
        <p style="text-align: left;">
          We use the Expresso dataset to evaluate the performance of our proposed PromptLDM. 
          The dataset contains 4 speakers (2 males and 2 females) and 8 styles, including confused, default, enunciated, happy, laughing, narration, sad, and whisper. The following table and pie chart show the distribution of the styles in the dataset:
        </p>
        

        <div class="chart-container">
          <div class="table-container">
            <table class="small-padding">
              <thead>
                <tr>
                  <th>Style</th>
                  <th>Count (min)</th>
                </tr>
              </thead>
              <tbody>
                <tr><td>confused</td><td>94</td></tr>
                <tr><td>default</td><td>133</td></tr>
                <tr><td>enunciated</td><td>116</td></tr>
                <tr><td>happy</td><td>74</td></tr>
                <tr><td>laughing</td><td>94</td></tr>
                <tr><td>narration</td><td>21</td></tr>
                <tr><td>sad</td><td>81</td></tr>
                <tr><td>whisper</td><td>79</td></tr>
              </tbody>
            </table>
          </div>
          <div class="canvas-container">
            <canvas id="myPieChart"></canvas>
          </div>
        </div>

        <p style="text-align: left;">
          We use natural language description as style prompts according to the style categories.
          Specifically, we utilize LLM to assist in generating more diverse style prompts based on the provided text prompt examples. The following diagram illustrates this process:
        </p> <br>
        <div class="columns">
          <div class="column">
            <div class="image-container">
              <img src="static/images/data.jpg" alt="Description of image">
            </div>
          </div>
      </div>
      </div>
    </div>
  </div>
</section>

<script>
  const ctx = document.getElementById('myPieChart').getContext('2d');
  const myPieChart = new Chart(ctx, {
    type: 'pie',
    data: {
      labels: ['confused', 'default', 'enunciated', 'happy', 'laughing', 'narration', 'sad', 'whisper'],
      datasets: [{
        label: 'Distribution',
        data: [94, 133, 116, 74, 94, 21, 81, 79], // 数据对应各个因素的比例
        backgroundColor: [
        'rgba(255, 99, 132, 0.6)', // 红色
        'rgba(54, 162, 235, 0.6)', // 蓝色
        'rgba(255, 206, 86, 0.6)', // 黄色
        'rgba(75, 192, 192, 0.6)', // 青色
        'rgba(255, 159, 64, 0.6)', // 橙色
        'rgba(153, 102, 255, 0.6)', // 紫色
        'rgba(201, 203, 207, 0.6)', // 灰色
        'rgba(255, 99, 71, 0.6)'   // 番茄红
        ],
        borderColor: [
        'rgba(255, 99, 132, 1)', // 红色
        'rgba(54, 162, 235, 1)', // 蓝色
        'rgba(255, 206, 86, 1)', // 黄色
        'rgba(75, 192, 192, 1)', // 青色
        'rgba(255, 159, 64, 1)', // 橙色
        'rgba(153, 102, 255, 1)', // 紫色
        'rgba(201, 203, 207, 1)', // 灰色
        'rgba(255, 99, 71, 1)'    // 番茄红 
        ],
        borderWidth: 1
      }]
    },
    options: {
      responsive: true,
      maintainAspectRatio: false, // 允许调整比例
      plugins: {
        legend: {
          position: 'right',
        },
        title: {
          position: 'bottom',
          display: true,
          text: 'Style distribution',

        }
      }
    },
  });
</script>





<section class="hero is-light is-small">
  <div class="hero-body">
    <div class="container is-max-desktop">
      <div class="columns is-centered has-text-centered">
        <div class="column">
          <h2 class="title is-3">Audio Samples</h2>
        </div>
      </div>
      <div class="columns is-centered has-text-centered  is-full-width">
        <table class="table" style="background-color: transparent;">
          <thead>
            <tr>
              <!-- <th align="center"><strong><span class="icon"><i class="fas fa-hiking"></i></span>Content Prompt</strong></th>
              <th align="center"><strong><span class="icon"><i class="fas fa-microphone"></i></span>Style Prompt</strong></th> -->
              <th align="center"><strong>Content Prompt</strong></th>
              <th align="center"><strong>Style Prompt</strong></th>
              <th align="center"><strong>GT</strong></th>
              <th align="center"><strong>PromptTTS</strong></th>
              <th align="center"><strong>M1</strong></th>
              <th align="center"><strong>M2</strong></th>
              <th align="center"><strong>M3</strong></th>
              <th align="center"><strong>PromptLDM</strong></th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td width="30%" style="text-align: center;"><p>That's that's a big difference for me.</p></td>
              <td width="30%" style="text-align: center;"><p>He spoke with a mixture of uncertainty.</p></td>
              <td width="10%" style="text-align: center;"><audio controls="" ><source src="static/audio_sample/expresso/gt/ex01_confused_00099.wav" type="audio/wav"></audio></td>
              <td width="10%" style="text-align: center;"><audio controls="" ><source src="static/audio_sample/expresso/prompttts/ex01_confused_00099.wav" type="audio/wav"></audio></td>
              <td width="10%" style="text-align: center;"><audio controls="" ><source src="static/audio_sample/expresso/M1/ex01_confused_00099.wav" type="audio/wav"></audio></td>
              <td width="10%" style="text-align: center;"><audio controls="" ><source src="static/audio_sample/expresso/M2/ex01_confused_00099.wav" type="audio/wav"></audio></td>
              <td width="10%" style="text-align: center;"><audio controls="" ><source src="static/audio_sample/expresso/M3/ex01_confused_00099.wav" type="audio/wav"></audio></td>
              <td width="10%" style="text-align: center;"><audio controls="" ><source src="static/audio_sample/expresso/promptldm/ex01_confused_00099.wav" type="audio/wav"></audio></td>
            </tr>
            <tr>
              <td width="30%" style="text-align: center;"><p>Officer Chenowith? Yes, it's Jana Hawkes.</p></td>
              <td width="30%" style="text-align: center;"><p>His voice carried no distinct inflection or emphasis.</p></td>
              <td width="10%" style="text-align: center;"><audio controls="" ><source src="static/audio_sample/expresso/gt/ex01_default_00019.wav" type="audio/wav"></audio></td>
              <td width="10%" style="text-align: center;"><audio controls="" ><source src="static/audio_sample/expresso/prompttts/ex01_default_00019.wav" type="audio/wav"></audio></td>
              <td width="10%" style="text-align: center;"><audio controls="" ><source src="static/audio_sample/expresso/M1/ex01_default_00019.wav" type="audio/wav"></audio></td>
              <td width="10%" style="text-align: center;"><audio controls="" ><source src="static/audio_sample/expresso/M2/ex01_default_00019.wav" type="audio/wav"></audio></td>
              <td width="10%" style="text-align: center;"><audio controls="" ><source src="static/audio_sample/expresso/M3/ex01_default_00019.wav" type="audio/wav"></audio></td>
              <td width="10%" style="text-align: center;"><audio controls="" ><source src="static/audio_sample/expresso/promptldm/ex01_default_00019.wav" type="audio/wav"></audio></td>
            </tr>
            <tr>
              <td width="30%" style="text-align: center;"><p>Are you shy about strutting your stuff?</p></td>
              <td width="30%" style="text-align: center;"><p>The man's voice resonated with raw emotion and sadness.</p></td>
              <td width="10%" style="text-align: center;"><audio controls="" ><source src="static/audio_sample/expresso/gt/ex03_sad_00052.wav" type="audio/wav"></audio></td>
              <td width="10%" style="text-align: center;"><audio controls="" ><source src="static/audio_sample/expresso/prompttts/ex03_sad_00052.wav" type="audio/wav"></audio></td>
              <td width="10%" style="text-align: center;"><audio controls="" ><source src="static/audio_sample/expresso/M1/ex03_sad_00052.wav" type="audio/wav"></audio></td>
              <td width="10%" style="text-align: center;"><audio controls="" ><source src="static/audio_sample/expresso/M2/ex03_sad_00052.wav" type="audio/wav"></audio></td>
              <td width="10%" style="text-align: center;"><audio controls="" ><source src="static/audio_sample/expresso/M3/ex03_sad_00052.wav" type="audio/wav"></audio></td>
              <td width="10%" style="text-align: center;"><audio controls="" ><source src="static/audio_sample/expresso/promptldm/ex03_sad_00052.wav" type="audio/wav"></audio></td>
            </tr>            
            <tr>
              <td width="30%" style="text-align: center;"><p>&lt;laugh&gt; What do you think post conveys.</p></td>
              <td width="30%" style="text-align: center;"><p>The woman's words were accompanied by endless laughter.</p></td>
              <td width="10%" style="text-align: center;"><audio controls="" ><source src="static/audio_sample/expresso/gt/ex04_laughing_00123.wav" type="audio/wav"></audio></td>
              <td width="10%" style="text-align: center;"><audio controls="" ><source src="static/audio_sample/expresso/prompttts/ex04_laughing_00123.wav" type="audio/wav"></audio></td>
              <td width="10%" style="text-align: center;"><audio controls="" ><source src="static/audio_sample/expresso/M1/ex04_laughing_00123.wav" type="audio/wav"></audio></td>
              <td width="10%" style="text-align: center;"><audio controls="" ><source src="static/audio_sample/expresso/M2/ex04_laughing_00123.wav" type="audio/wav"></audio></td>
              <td width="10%" style="text-align: center;"><audio controls="" ><source src="static/audio_sample/expresso/M2/ex04_laughing_00123.wav" type="audio/wav"></audio></td>
              <td width="10%" style="text-align: center;"><audio controls="" ><source src="static/audio_sample/expresso/promptldm/ex04_laughing_00123.wav" type="audio/wav"></audio></td>
            </tr>
            <tr>
              <td width="30%" style="text-align: center;"><p>Rough night at the casino tables?</p></td>
              <td width="30%" style="text-align: center;"><p>His words flowed with a distinct and unerring precision.</p></td>
              <td width="10%" style="text-align: center;"><audio controls="" ><source src="static/audio_sample/expresso/gt/ex01_enunciated_00066.wav" type="audio/wav"></audio></td>
              <td width="10%" style="text-align: center;"><audio controls="" ><source src="static/audio_sample/expresso/prompttts/ex01_enunciated_00066.wav" type="audio/wav"></audio></td>
              <td width="10%" style="text-align: center;"><audio controls="" ><source src="static/audio_sample/expresso/M1/ex01_enunciated_00066.wav" type="audio/wav"></audio></td>
              <td width="10%" style="text-align: center;"><audio controls="" ><source src="static/audio_sample/expresso/M2/ex01_enunciated_00066.wav" type="audio/wav"></audio></td>
              <td width="10%" style="text-align: center;"><audio controls="" ><source src="static/audio_sample/expresso/M2/ex01_enunciated_00066.wav" type="audio/wav"></audio></td>
              <td width="10%" style="text-align: center;"><audio controls="" ><source src="static/audio_sample/expresso/promptldm/ex01_enunciated_00066.wav" type="audio/wav"></audio></td>
            </tr>
            <tr>
              <td width="30%" style="text-align: center;"><p>"Anyway, this woman documented every single step of this process."</p></td>
              <td width="30%" style="text-align: center;"><p>"In high spirits, the man shared his excitement."</p></td>
              <td width="10%" style="text-align: center;"><audio controls="" ><source src="static/audio_sample/expresso/gt/ex01_happy_00180.wav" type="audio/wav"></audio></td>
              <td width="10%" style="text-align: center;"><audio controls="" ><source src="static/audio_sample/expresso/prompttts/ex01_happy_00180.wav" type="audio/wav"></audio></td>
              <td width="10%" style="text-align: center;"><audio controls="" ><source src="static/audio_sample/expresso/M1/ex01_happy_00180.wav" type="audio/wav"></audio></td>
              <td width="10%" style="text-align: center;"><audio controls="" ><source src="static/audio_sample/expresso/M2/ex01_happy_00180.wav" type="audio/wav"></audio></td>
              <td width="10%" style="text-align: center;"><audio controls="" ><source src="static/audio_sample/expresso/M2/ex01_happy_00180.wav" type="audio/wav"></audio></td>
              <td width="10%" style="text-align: center;"><audio controls="" ><source src="static/audio_sample/expresso/promptldm/ex01_happy_00180.wav" type="audio/wav"></audio></td>
            </tr>
            <tr>
              <td width="30%" style="text-align: center;"><p>Inez?</p></td>
              <td width="30%" style="text-align: center;"><p>The man's tone was imbued with puzzlement.</p></td>
              <td width="10%" style="text-align: center;"><audio controls="" ><source src="static/audio_sample/expresso/gt/ex03_confused_00358.wav" type="audio/wav"></audio></td>
              <td width="10%" style="text-align: center;"><audio controls="" ><source src="static/audio_sample/expresso/prompttts/ex03_confused_00358.wav" type="audio/wav"></audio></td>
              <td width="10%" style="text-align: center;"><audio controls="" ><source src="static/audio_sample/expresso/M1/ex03_confused_00358.wav" type="audio/wav"></audio></td>
              <td width="10%" style="text-align: center;"><audio controls="" ><source src="static/audio_sample/expresso/M2/ex03_confused_00358.wav" type="audio/wav"></audio></td>
              <td width="10%" style="text-align: center;"><audio controls="" ><source src="static/audio_sample/expresso/M2/ex03_confused_00358.wav" type="audio/wav"></audio></td>
              <td width="10%" style="text-align: center;"><audio controls="" ><source src="static/audio_sample/expresso/promptldm/ex03_confused_00358.wav" type="audio/wav"></audio></td>
            </tr>
            <tr>
              <td width="30%" style="text-align: center;"><p>"Any cramping, any discomfort or pain?"</p></td>
              <td width="30%" style="text-align: center;"><p>The man's words was filled with whispered words.</p></td>
              <td width="10%" style="text-align: center;"><audio controls="" ><source src="static/audio_sample/expresso/gt/ex03_whisper_00364.wav" type="audio/wav"></audio></td>
              <td width="10%" style="text-align: center;"><audio controls="" ><source src="static/audio_sample/expresso/prompttts/ex03_whisper_00364.wav" type="audio/wav"></audio></td>
              <td width="10%" style="text-align: center;"><audio controls="" ><source src="static/audio_sample/expresso/M1/ex03_whisper_00364.wav" type="audio/wav"></audio></td>
              <td width="10%" style="text-align: center;"><audio controls="" ><source src="static/audio_sample/expresso/M2/ex03_whisper_00364.wav" type="audio/wav"></audio></td>
              <td width="10%" style="text-align: center;"><audio controls="" ><source src="static/audio_sample/expresso/M2/ex03_whisper_00364.wav" type="audio/wav"></audio></td>
              <td width="10%" style="text-align: center;"><audio controls="" ><source src="static/audio_sample/expresso/promptldm/ex03_whisper_00364.wav" type="audio/wav"></audio></td>
            </tr>
          </tbody>
        </table>
        <p>
        </p>
      </div>
    </div>
  </div>
</section>


<section class="section" style="padding-top: 0px;"></section>
  <div class="container is-max-desktop">
    <!-- Abstract. -->
    <div class="columns is-centered has-text-centered">
      <div class="column is-four-fifths">
        <div class="content has-text-justified">

        <p>
            <strong>Reference</strong>
            <ol>
              <li>
                Wenhao Guan, Tao Li, Yishuang Li, Hukai Huang, Qingyang Hong,
                  and Lin Li, “Interpretable Style Transfer for Text-to-Speech with
                  ControlVAE and Diffusion Bridge” in Proc. INTERSPEECH 2023,
                  2023, pp. 4304–4308.
              </li>
            </ol>
          </p>

        </div>
          </div>  
        </div>
      </div>
    </div>
  </div>
</section>

<footer class="footer">
  <div class="container">
    <div class="columns is-centered has-text-centered">
      <div class="column is-four-fifths">
        <h2 class="title is-3">Licenses</h2>
        <div class="content">
          <p>
            This website is licensed under a <a rel="license"
                                                href="http://creativecommons.org/licenses/by-sa/4.0/">Creative
            Commons Attribution-ShareAlike 4.0 International License</a>.
          </p>
          <p>
            Website source code based on the <a
            href="https://github.com/nerfies/nerfies.github.io">Nerfies</a> project page.
          </p>
        </div>
      </div>
    </div>
  </div>
</footer>

</body>
</html>
